@model IEnumerable<AuthApp.Models.flightcrews>
@{
    //ViewData["Title"] = "Product list";
    //Layout = null;
}

@section Logout {
    <li><a asp-controller="Account" asp-action="Logout">Logout</a></li>
}
<!DOCTYPE html>
<html>
<head>
    <title>Crews list</title>
</head>
<body>
    <h3>Crews</h3>
    <table class="table table-sm">
        <thead class="table-danger">
            <tr>
                <td>ID</td>
                <td>Pilot</td>
                <td>Navigator</td>
                <td>Radiooperator</td>
                <td>Flight attendant</td>
                <td></td>
            </tr>
        </thead>
        @foreach (var product in Model)
        {
            <tr>
                <td>@product.idFlightCrews</td>

                @if (product.pilots != null)
                {
                    <td>@product.pilots.Name @product.pilots.Surname</td>
                }
                else
                {
                    <td></td>
                }
                @if (product.navigators != null)
                {
                    <td>@product.navigators.Name @product.navigators.Surname</td>
                }
                else
                {
                    <td></td>
                }
                @if (product.radiooperators != null)
                {
                    <td>@product.radiooperators.Name @product.radiooperators.Surname</td>
                }
                else
                {
                    <td></td>
                }
                @if (product.flightattendants != null)
                {
                    <td>@product.flightattendants.Name @product.flightattendants.Surname </td>
                }
                else
                {
                    <td></td>
                }
                <td>
                    <a asp-action="SaveChangedCrew" asp-route-crewID="@product.idFlightCrews" asp-route-flightID="@ViewBag.ThisFlight.idFlights">Apply</a>
                </td>
            </tr>
        }
    </table>
    <div>
        <a asp-controller="Admin" asp-action="EditFlight" asp-route-flightID="@ViewBag.FlightID">Back</a>
    </div>
</body>
</html>