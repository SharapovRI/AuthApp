@model IEnumerable<AuthApp.Models.InfoAboutFlight>
@{
    //ViewData["Title"] = "Product list";
    //Layout = null;
}
@section Logout {
    <li><a asp-controller="Account" asp-action="Logout">Logout</a></li>
}
<!DOCTYPE html>
<html>
<head>
    <title>Electronics Store</title>
</head>
<body>
    <h3>Flights</h3>
    <div id="modDialog" class="modal fade">
        <div id="dialogContent" class="modal-dialog"></div>
    </div>
    <table>
        <tr>
            <td>ID</td>
            <td>Number of route</td>
            <td>From</td>
            <td>To</td>
            <td></td>
            <td></td>
        </tr>
        @foreach (var product in Model)
        {
            <tr>
                <td>@product.ID</td>
                <td>
                    @Html.ActionLink(product.Route.ToString(), "DetailsStations",
                                         new { id = product.ID }, new { @class = "compItem" })
                </td>
                <td>@product.From</td>
                <td>@product.To</td>
                <td>
                    <a asp-controller="Admin" asp-action="EditFlight" asp-route-flightID="@product.ID">EditFlight</a>
                </td>
                <td>
                    <a asp-action="DeleteFlight" asp-route-flightID="@product">Delete</a>
                </td>
            </tr>
        }


    </table>
    @section scripts
{
        <script type="text/javascript">

            $(function () {
                $.ajaxSetup({ cache: false });
                $(".compItem").click(function (e) {

                    e.preventDefault();
                    $.get(this.href, function (data) {
                        $('#dialogContent').html(data);
                        $('#modDialog').modal('show');
                    });
                });
            })
        </script>
    }
</body>
</html>